(()=>{"use strict";const e=async(e="")=>{let t,n;console.log(e);try{if(""==e?(t="https://bsaletest-apirest.herokuapp.com/api/products/",n=await fetch(t)):(t="https://bsaletest-apirest.herokuapp.com/api/productsFiltered/",n=await fetch(t+e)),!n.ok)throw alert("No se pudo realizar la peticion");return await n.json()}catch(e){throw e}},t=document.querySelector("#inputSearch"),n=document.querySelector("#buttonSearch");n.addEventListener("click",(()=>{document.querySelector("#content").innerHTML="",document.querySelector("#content").innerHTML="<h1 id='cargando'> Cargando productos </h1>",e(t.value.toLowerCase()).then((e=>{c(e)}))}));const c=e=>{document.querySelector("#content").removeChild(document.getElementById("cargando")),e.map((e=>{const t=document.createElement("div");t.className="card";const n=document.createElement("img");n.src=e.url_image,t.appendChild(n);const c=document.createElement("h2");c.textContent=e.name,t.appendChild(c);const o=document.createElement("div");o.className="prices";const a=document.createElement("p");if(a.textContent="$"+e.price,a.className="priceorigin",o.appendChild(a),0!=e.discount){const n=document.createElement("p");n.className="priceDiscounted",n.textContent="$"+(e.price-e.price*e.discount/100),o.appendChild(n),a.className+=a.className+" underlineAdd";const c=document.createElement("span");c.textContent=e.discount+"% dcto",t.appendChild(c)}t.appendChild(o);const r=document.createElement("div");r.className="buttons";const d=document.createElement("button");d.className="buttonBuy",d.textContent="Comprar",r.appendChild(d);const s=document.createElement("button");s.className="buttonAddToCart",s.textContent="Agregar al carro",r.appendChild(s),t.appendChild(r),document.querySelector("#content").appendChild(t)}))};document.body.style.backgroundImage="url(./assets/img/pattern.png)",document.querySelector("#content").innerHTML="<h1 id='cargando'> Cargando productos </h1>",document.querySelector("#inputSearch").onkeypress=function(e){var t;13!==(t=e).keyCode||t.shiftKey||(t.preventDefault(),n.click())},e(t.value.toLowerCase()).then((e=>{c(e)}))})();