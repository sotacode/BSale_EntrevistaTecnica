(()=>{"use strict";function e(e,t,n,r,a,c,o){try{var u=e[c](o),d=u.value}catch(e){return void n(e)}u.done?t(d):Promise.resolve(d).then(r,a)}var t=function(){var t,n=(t=regeneratorRuntime.mark((function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:"",console.log(t),e.prev=2,""!=t){e.next=10;break}return n="https://bsaletest-apirest.herokuapp.com/api/products",e.next=7,fetch(n);case 7:r=e.sent,e.next=14;break;case 10:return n="https://bsaletest-apirest.herokuapp.com/api/productsFiltered",e.next=13,fetch(n+t);case 13:r=e.sent;case 14:if(r.ok){e.next=16;break}throw alert("No se pudo realizar la peticion");case 16:return e.next=18,r.json();case 18:return e.abrupt("return",e.sent);case 22:throw e.prev=22,e.t0=e.catch(2),e.t0;case 25:case"end":return e.stop()}}),e,null,[[2,22]])})),function(){var n=this,r=arguments;return new Promise((function(a,c){var o=t.apply(n,r);function u(t){e(o,a,c,u,d,"next",t)}function d(t){e(o,a,c,u,d,"throw",t)}u(void 0)}))});return function(){return n.apply(this,arguments)}}(),n=document.querySelector("#inputSearch"),r=document.querySelector("#buttonSearch");r.addEventListener("click",(function(){document.querySelector("#content").innerHTML="",document.querySelector("#content").innerHTML="<h1 id='cargando'> Cargando productos </h1>",t(n.value.toLowerCase()).then((function(e){a(e)}))}));var a=function(e){document.querySelector("#content").removeChild(document.getElementById("cargando")),e.map((function(e){var t=document.createElement("div");t.className="card";var n=document.createElement("img");n.src=e.url_image,t.appendChild(n);var r=document.createElement("h2");r.textContent=e.name,t.appendChild(r);var a=document.createElement("div");a.className="prices";var c=document.createElement("p");if(c.textContent="$"+e.price,c.className="priceorigin",a.appendChild(c),0!=e.discount){var o=document.createElement("p");o.className="priceDiscounted",o.textContent="$"+(e.price-e.price*e.discount/100),a.appendChild(o),c.className+=c.className+" underlineAdd";var u=document.createElement("span");u.textContent=e.discount+"% dcto",t.appendChild(u)}t.appendChild(a);var d=document.createElement("div");d.className="buttons";var i=document.createElement("button");i.className="buttonBuy",i.textContent="Comprar",d.appendChild(i);var s=document.createElement("button");s.className="buttonAddToCart",s.textContent="Agregar al carro",d.appendChild(s),t.appendChild(d),document.querySelector("#content").appendChild(t)}))};document.body.style.backgroundImage="url(./assets/img/pattern.png)",document.querySelector("#content").innerHTML="<h1 id='cargando'> Cargando productos </h1>",document.querySelector("#inputSearch").onkeypress=function(e){var t;13!==(t=e).keyCode||t.shiftKey||(t.preventDefault(),r.click())},t(n.value.toLowerCase()).then((function(e){a(e)}))})();